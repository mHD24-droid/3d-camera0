<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AR Debug v2</title>
    <style>
      body { margin: 0; overflow: hidden; background: black; color: white; }
      #log {
        position: fixed;
        top: 10px;
        left: 10px;
        font-size: 16px;
        background: rgba(0,0,0,0.7);
        padding: 8px 12px;
        border-radius: 8px;
      }
    </style>
  </head>
  <body>
    <div id="log">⏳ Loading script...</div>
    <script type="module">
      const logBox = document.getElementById('log');
      const log = msg => logBox.innerText = msg;

      try {
        log("✅ JS loaded correctly");

        // test camera access
        navigator.mediaDevices.getUserMedia({ video: true })
          .then(stream => {
            log("✅ Camera permission OK");
            const video = document.createElement('video');
            video.srcObject = stream;
            video.autoplay = true;
            video.playsInline = true;
            video.style.position = "fixed";
            video.style.top = 0;
            video.style.left = 0;
            video.style.width = "100vw";
            video.style.height = "100vh";
            document.body.appendChild(video);
          })
          .catch(err => log("❌ Camera error: " + err));
      } catch (e) {
        log("❌ JS error: " + e);
      }
    </script>
  </body>
</html>
